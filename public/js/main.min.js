let stadistics,national=document.getElementById("national"),autonomic=document.getElementById("autonomic"),datasets=[],confirmed=document.querySelector("#confirmed"),active=document.querySelector("#active"),deaths=document.querySelector("#deaths"),last_date=document.querySelector("#last_date");function makeChartNational(a){let e=a.map(function(a){let e=a.fecha.split("-");return e[2]+"/"+e[1]+"/"+e[0]}),t={label:"Casos confirmados",data:a.map(a=>a.casos_pcr),fill:!1,borderColor:"lightblue",lineTension:0},n={label:"Casos activos",data:a.map(a=>a.casos_pcr-a.fallecimientos),fill:!1,borderColor:"rgba(147,112,219, 0.5)",lineTension:0},o={label:"Fallecimientos",data:a.map(a=>a.fallecimientos),fill:!1,borderColor:"rgba(240,0,0,0.5)",lineTension:0};a.map(a=>a.altas);last_date.innerHTML=e[e.length-1],confirmed.innerHTML=t.data[t.data.length-1],active.innerHTML=n.data[n.data.length-1],deaths.innerHTML=o.data[o.data.length-1],new Chart(national,{type:"line",data:{labels:e,datasets:[t,n,o]},options:{responsive:!0,legend:{display:!0,position:"top",labels:{boxWidth:15,fontColor:"black"}},scales:{yAxes:[{ticks:{beginAtZero:!1}}]}}})}d3.csv("https://raw.githubusercontent.com/datadista/datasets/master/COVID%2019/nacional_covid19.csv").then(makeChartNational);