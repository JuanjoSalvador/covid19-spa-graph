let stadistics,national=document.getElementById("national"),autonomic=document.getElementById("autonomic"),datasets=[],confirmed=document.querySelector("#confirmed"),active=document.querySelector("#active"),deaths=document.querySelector("#deaths"),last_date=document.querySelector("#last_date");function makeChartNational(t){let e=[];t.map(function(a,n){n>=t.length-60&&e.push(a)});let a=e.map(function(t){let e=t.fecha.split("-");return e[2]+"/"+e[1]+"/"+e[0]}),n={label:"Casos confirmados",data:e.map(function(t,a){if(a>=e.length-60)return t.casos_pcr}),fill:!1,borderColor:"lightblue",lineTension:0},o={label:"Hospitalizados",data:e.map(function(t,a){if(a>=e.length-60)return t.hospitalizados}),fill:!1,borderColor:"rgba(255,255,0, 0.5)",lineTension:0},i={label:"Fallecimientos",data:e.map(function(t,a){if(a>=e.length-60)return t.fallecimientos}),fill:!1,borderColor:"rgba(240,0,0,0.5)",lineTension:0};last_date.innerHTML=a[a.length-1],confirmed.innerHTML=n.data[n.data.length-1],hospitalized.innerHTML=o.data[o.data.length-1],deaths.innerHTML=i.data[i.data.length-1],new Chart(national,{type:"line",data:{labels:a,datasets:[n,o,i]},options:{responsive:!0,maintainAspectRatio:!0,legend:{display:!0,position:"top",labels:{boxWidth:15,fontColor:"black"}},scales:{yAxes:[{ticks:{beginAtZero:!1}}]}}})}d3.csv("https://raw.githubusercontent.com/datadista/datasets/master/COVID%2019/nacional_covid19.csv").then(makeChartNational);